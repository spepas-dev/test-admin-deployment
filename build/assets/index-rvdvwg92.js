import{j as e,a as d,r as C,W as S,C as I,b as A,m as p}from"./index-DerKfh_i.js";import{C as w,a as T}from"./card-B6ouLRYl.js";import{u as B,s as F,o as P,a as k,F as _,b as j,c as g,d as b,e as y,f as N,g as U,h as u}from"./form-BqdHsX1y.js";import{D as $,b as H,d as O,e as R,f as z,T as L,g as D,h as M,i as W,j as f,k as v,l as q,m as o}from"./table-C4EX-m7M.js";import{I as E}from"./input-D3bTOU5h.js";import{T as V}from"./textarea-BkVTqKzz.js";import{C as G,P as J}from"./package-CJQbPt-o.js";const K=P({name:u().min(1,"Part name is required"),description:u().min(10,"Description must be at least 10 characters"),carBrand_ID:u().uuid("Invalid car brand ID")}),Q=P({spareParts:U(K).min(1,"Add at least one spare part")});function X({open:n,onOpenChange:a,onSubmit:t}){const r=B({resolver:F(Q),defaultValues:{spareParts:[{name:"",description:"",carBrand_ID:""}]}}),{fields:l,append:m,remove:s}=k({control:r.control,name:"spareParts"}),x=h=>{t(h.spareParts),r.reset()};return e.jsx($,{open:n,onOpenChange:a,children:e.jsxs(H,{className:"max-w-2xl bg-white",children:[e.jsxs(O,{children:[e.jsx(R,{className:"text-[#4A36EC] text-xl font-bold",children:"Add Spare Parts"}),e.jsx(z,{className:"text-gray-600",children:"Add one or more spare parts to the system"})]}),e.jsx(_,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(x),className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:l.map((h,c)=>e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(j,{control:r.control,name:`spareParts.${c}.name`,render:({field:i})=>e.jsxs(g,{children:[e.jsx(b,{className:"text-gray-700",children:"Part Name"}),e.jsx(y,{children:e.jsx(E,{placeholder:"Enter part name",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",...i})}),e.jsx(N,{className:"text-red-500"})]})}),e.jsx(j,{control:r.control,name:`spareParts.${c}.description`,render:({field:i})=>e.jsxs(g,{children:[e.jsx(b,{className:"text-gray-700",children:"Description"}),e.jsx(y,{children:e.jsx(V,{placeholder:"Enter part description",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",...i})}),e.jsx(N,{className:"text-red-500"})]})}),e.jsx(j,{control:r.control,name:`spareParts.${c}.carBrand_ID`,render:({field:i})=>e.jsxs(g,{children:[e.jsx(b,{className:"text-gray-700",children:"Car Brand ID"}),e.jsx(y,{children:e.jsx(E,{placeholder:"Enter car brand ID",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",...i})}),e.jsx(N,{className:"text-red-500"})]})})]}),l.length>1&&e.jsx(d,{type:"button",variant:"outline",size:"icon",className:"mt-8 hover:bg-gray-100",onClick:()=>s(c),children:e.jsx(L,{className:"w-4 h-4 text-gray-600"})})]},h.id))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(d,{type:"button",variant:"outline",className:"hover:bg-gray-100",onClick:()=>m({name:"",description:"",carBrand_ID:""}),children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Add Another"]}),e.jsx(d,{type:"submit",className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:"Save Parts"})]})]})})]})})}function Y({spareParts:n}){return e.jsx("div",{className:"border rounded-lg bg-white",children:e.jsxs(M,{children:[e.jsx(W,{children:e.jsxs(f,{className:"bg-gray-50",children:[e.jsx(v,{className:"text-[#4A36EC] font-semibold",children:"Part Name"}),e.jsx(v,{className:"text-[#4A36EC] font-semibold",children:"Description"}),e.jsx(v,{className:"text-[#4A36EC] font-semibold",children:"Car Brand ID"})]})}),e.jsxs(q,{children:[n.map((a,t)=>e.jsxs(f,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(o,{className:"text-gray-700",children:a.name}),e.jsx(o,{className:"text-gray-700",children:a.description}),e.jsx(o,{className:"text-gray-700",children:a.carBrand_ID})]},t)),n.length===0&&e.jsx(f,{children:e.jsx(o,{colSpan:3,className:"text-center text-gray-500 py-8",children:"No spare parts added yet"})})]})]})})}function ie(){const[n,a]=C.useState(!1),[t,r]=C.useState([]),l=async s=>{console.log(s),r([...t,...s]),a(!1)},m=[{title:"Total Parts",value:t.length,icon:S,description:"Active spare parts in system",trend:"+4.3%",trendUp:!0},{title:"Car Brands",value:new Set(t.map(s=>s.carBrand_ID)).size,icon:I,description:"Compatible car brands",trend:"+2.7%",trendUp:!0},{title:"Categories",value:"12",icon:G,description:"Part categories",trend:"+1.5%",trendUp:!0},{title:"In Stock",value:"1,234",icon:J,description:"Available inventory",trend:"-0.8%",trendUp:!1}];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("a",{href:"/",className:"hover:text-[#4A36EC]",children:"Dashboard"}),e.jsx(A,{className:"w-4 h-4 mx-2"}),e.jsx("a",{href:"/inventory",className:"hover:text-[#4A36EC]",children:"Inventory"}),e.jsx(A,{className:"w-4 h-4 mx-2"}),e.jsx("span",{className:"text-[#4A36EC] font-medium",children:"Spare Parts"})]}),e.jsxs(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#4A36EC]",children:"Spare Parts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage spare parts and their specifications"})]}),e.jsxs(d,{onClick:()=>a(!0),className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Add Spare Part"]})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((s,x)=>e.jsx(w,{className:"border border-gray-200 hover:border-[#4A36EC] transition-colors",children:e.jsxs(T,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:s.value})]}),e.jsx("div",{className:"bg-[#4A36EC]/10 p-2 rounded-lg",children:e.jsx(s.icon,{className:"w-5 h-5 text-[#4A36EC]"})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.description}),e.jsx("span",{className:`text-xs font-medium ${s.trendUp?"text-green-600":"text-red-600"}`,children:s.trend})]})]})},x))}),e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.jsx(Y,{spareParts:t})}),e.jsx(X,{open:n,onOpenChange:a,onSubmit:l})]})}export{ie as default};
