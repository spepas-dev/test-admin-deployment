import{j as e,a as p,r as A,U as w,S as E,b as S,m as C}from"./index-DerKfh_i.js";import{C as G,a as D}from"./card-B6ouLRYl.js";import{u as T,F as I,b as o,c,d,e as m,f as x,s as U,o as M,g as j,h}from"./form-BqdHsX1y.js";import{D as F,b as V,d as k,e as B,f as P,h as z,i as R,j as y,k as u,l as O,m as l,T as H,g as J}from"./table-C4EX-m7M.js";import{I as q}from"./input-D3bTOU5h.js";import{M as g}from"./multi-select-D1bUAzzq.js";import{T as L}from"./textarea-BkVTqKzz.js";import{B as b}from"./badge-C6fu0KNW.js";import{S as $,M as K,F as Q}from"./square-pen-CO2gVgkX.js";import"./index-BnZGiQrK.js";import"./wand-sparkles-DhWsRIAQ.js";const W=M({name:h().min(1,"Group name is required"),description:h().min(10,"Description must be at least 10 characters"),users:j(h()).min(1,"Select at least one user"),menuGroups:j(h()),menuItems:j(h()),permissions:j(h())}),f={users:[{value:"user1",label:"John Doe"},{value:"user2",label:"Jane Smith"},{value:"user3",label:"Bob Johnson"}],menuGroups:[{value:"group1",label:"Dashboard"},{value:"group2",label:"Users"},{value:"group3",label:"Settings"}],menuItems:[{value:"item1",label:"View Users"},{value:"item2",label:"Edit Profile"},{value:"item3",label:"System Settings"}],permissions:[{value:"perm1",label:"Create Users"},{value:"perm2",label:"Delete Users"},{value:"perm3",label:"View Reports"}]};function X({open:i,onOpenChange:n,onSubmit:a}){const s=T({resolver:U(W),defaultValues:{name:"",description:"",users:[],menuGroups:[],menuItems:[],permissions:[]}}),v=r=>{const t={id:crypto.randomUUID(),...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!1};a(t),s.reset()};return e.jsx(F,{open:i,onOpenChange:n,children:e.jsxs(V,{className:"max-w-2xl bg-white",children:[e.jsxs(k,{children:[e.jsx(B,{className:"text-[#4A36EC] text-xl font-bold",children:"Add Group"}),e.jsx(P,{className:"text-gray-600",children:"Create a new group and assign access rights"})]}),e.jsx(I,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(v),className:"space-y-6",children:[e.jsx(o,{control:s.control,name:"name",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Group Name"}),e.jsx(m,{children:e.jsx(q,{...r,placeholder:"Enter group name"})}),e.jsx(x,{})]})}),e.jsx(o,{control:s.control,name:"description",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Description"}),e.jsx(m,{children:e.jsx(L,{...r,placeholder:"Enter group description"})}),e.jsx(x,{})]})}),e.jsx(o,{control:s.control,name:"users",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Users"}),e.jsx(m,{children:e.jsx(g,{options:f.users,value:r.value,onValueChange:r.onChange,placeholder:"Select users"})}),e.jsx(x,{})]})}),e.jsx(o,{control:s.control,name:"menuGroups",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Menu Groups"}),e.jsx(m,{children:e.jsx(g,{options:f.menuGroups,value:r.value,onValueChange:r.onChange,placeholder:"Select menu groups"})}),e.jsx(x,{})]})}),e.jsx(o,{control:s.control,name:"menuItems",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Menu Items"}),e.jsx(m,{children:e.jsx(g,{options:f.menuItems,value:r.value,onValueChange:r.onChange,placeholder:"Select menu items"})}),e.jsx(x,{})]})}),e.jsx(o,{control:s.control,name:"permissions",render:({field:r})=>e.jsxs(c,{children:[e.jsx(d,{children:"Permissions"}),e.jsx(m,{children:e.jsx(g,{options:f.permissions,value:r.value,onValueChange:r.onChange,placeholder:"Select permissions"})}),e.jsx(x,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(p,{type:"submit",className:"bg-[#4A36EC] text-white",children:"Create Group"})]})]})})]})})}function Y({groups:i}){const n=a=>new Date(a).toLocaleDateString();return e.jsx("div",{className:"border rounded-lg bg-white",children:e.jsxs(z,{children:[e.jsx(R,{children:e.jsxs(y,{className:"bg-gray-50",children:[e.jsx(u,{className:"text-[#4A36EC] font-semibold",children:"Group Name"}),e.jsx(u,{className:"text-[#4A36EC] font-semibold",children:"Description"}),e.jsx(u,{className:"text-[#4A36EC] font-semibold",children:"Users"}),e.jsx(u,{className:"text-[#4A36EC] font-semibold",children:"Access Rights"}),e.jsx(u,{className:"text-[#4A36EC] font-semibold",children:"Created"}),e.jsx(u,{className:"text-[#4A36EC] font-semibold text-right",children:"Actions"})]})}),e.jsxs(O,{children:[i.map(a=>e.jsxs(y,{className:"hover:bg-gray-50",children:[e.jsx(l,{className:"font-medium",children:a.name}),e.jsx(l,{className:"text-gray-600",children:a.description}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:a.users.map(s=>e.jsx(b,{variant:"outline",className:"bg-blue-50 text-blue-700",children:s.name},s.id))})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-1",children:[a.permissions.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:a.permissions.map(s=>e.jsx(b,{variant:"outline",className:"bg-[#4A36EC]/10 text-[#4A36EC]",children:s.name},s.id))}),a.menuGroups.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:a.menuGroups.map(s=>e.jsx(b,{variant:"outline",className:"bg-green-50 text-green-700",children:s.title},s.id))}),a.menuItems.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:a.menuItems.map(s=>e.jsx(b,{variant:"outline",className:"bg-orange-50 text-orange-700",children:s.name},s.id))})]})}),e.jsx(l,{children:n(a.createdAt)}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>{},children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>{},className:"text-red-600",children:e.jsx(H,{className:"w-4 h-4"})})]})})]},a.id)),i.length===0&&e.jsx(y,{children:e.jsx(l,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No groups added yet"})})]})]})})}function ce(){const[i,n]=A.useState(!1),[a,s]=A.useState([]),v=async t=>{try{s([...a,t]),n(!1)}catch(N){console.error("Failed to add group:",N)}},r=[{title:"Total Groups",value:a.length,icon:w,description:"Active groups",trend:"+2.5%",trendUp:!0},{title:"Menu Access",value:new Set(a.flatMap(t=>[...t.menuGroups,...t.menuItems])).size,icon:K,description:"Assigned menus",trend:"+1.8%",trendUp:!0},{title:"Permissions",value:new Set(a.flatMap(t=>t.permissions)).size,icon:E,description:"Total permissions",trend:"+3.2%",trendUp:!0},{title:"Menu Groups",value:new Set(a.flatMap(t=>t.menuGroups)).size,icon:Q,description:"Assigned groups",trend:"+1.5%",trendUp:!0}];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("a",{href:"/",className:"hover:text-[#4A36EC]",children:"Dashboard"}),e.jsx(S,{className:"w-4 h-4 mx-2"}),e.jsx("a",{href:"/access-control",className:"hover:text-[#4A36EC]",children:"Access Control"}),e.jsx(S,{className:"w-4 h-4 mx-2"}),e.jsx("span",{className:"text-[#4A36EC] font-medium",children:"Groups"})]}),e.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#4A36EC]",children:"Groups"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage user groups and their access rights"})]}),e.jsxs(p,{onClick:()=>n(!0),className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Add Group"]})]}),e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((t,N)=>e.jsx(G,{className:"border border-gray-200 hover:border-[#4A36EC] transition-colors",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t.title}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:t.value})]}),e.jsx("div",{className:"bg-[#4A36EC]/10 p-2 rounded-lg",children:e.jsx(t.icon,{className:"w-5 h-5 text-[#4A36EC]"})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:t.description}),e.jsx("span",{className:`text-xs font-medium ${t.trendUp?"text-green-600":"text-red-600"}`,children:t.trend})]})]})},N))}),e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:e.jsx(Y,{groups:a})}),e.jsx(X,{open:i,onOpenChange:n,onSubmit:v})]})}export{ce as default};
